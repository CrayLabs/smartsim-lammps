if(PKG_USER-SMARTSIM)
  if(DEFINED ENV{HIREDIS_INSTALL_PATH})
    string(CONCAT HIREDIS_LIB_PATH $ENV{HIREDIS_INSTALL_PATH} "/lib")
	find_library(HIREDIS_LIB hiredis PATHS ${HIREDIS_LIB_PATH} NO_DEFAULT_PATH REQUIRED)
	string(CONCAT HIREDIS_INCLUDE_PATH $ENV{HIREDIS_INSTALL_PATH} "/include/")
  endif()
  if(DEFINED ENV{PROTOBUF_INSTALL_PATH})
	string(CONCAT PROTOBUF_LIB_PATH $ENV{PROTOBUF_INSTALL_PATH} "/lib")
	find_library(PROTOBUF_LIB protobuf PATHS ${PROTOBUF_LIB_PATH} NO_DEFAULT_PATH REQUIRED)
	string(CONCAT PROTOBUF_INCLUDE_PATH $ENV{PROTOBUF_INSTALL_PATH} "/include/")
  endif()
  if(DEFINED ENV{REDISPP_INSTALL_PATH})
	string(CONCAT REDISPP_LIB_PATH $ENV{REDISPP_INSTALL_PATH} "/lib")
	find_library(REDISPP_LIB redis++ PATHS ${REDISPP_LIB_PATH} REQUIRED)
	string(CONCAT REDISPP_INCLUDE_PATH $ENV{REDISPP_INSTALL_PATH} "/include/")
  endif()
  if(DEFINED ENV{SILC_INSTALL_PATH})
     string(CONCAT SILC_LIB_PATH $ENV{SILC_INSTALL_PATH} "/build")
     find_library(SILC_LIB silc PATHS ${SILC_LIB_PATH} REQUIRED)
  endif()

  list(APPEND LAMMPS_LINK_LIBS ${SILC_LIB})
  list(APPEND LAMMPS_LINK_LIBS ${REDISPP_LIB})
  list(APPEND LAMMPS_LINK_LIBS ${HIREDIS_LIB})
  list(APPEND LAMMPS_LINK_LIBS ${PROTOBUF_LIB})

  include_directories(${HIREDIS_INCLUDE_PATH})
  include_directories(${REDISPP_INCLUDE_PATH})
  include_directories(${PROTOBUF_INCLUDE_PATH})
  include_directories($ENV{SILC_INSTALL_PATH}/include)
  include_directories($ENV{SILC_INSTALL_PATH}/utils/protobuf)
endif()